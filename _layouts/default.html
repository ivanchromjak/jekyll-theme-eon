<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {% include head.html %}

  <body>
    {% assign header_block = page.sections | where:"block", 'header' | first %}
    {% unless header_block %}
      {% include block-header.html %}
    {% endunless %}

    {% assign width = page.width | default: 'default' %}
    {% assign sidebar_left = page.sidebar.left %}
    {% assign sidebar_right = page.sidebar.right %}

    {% if width == 'full' or page.layout == 'blocks' %}
      {{ content }}
    {% else %}
      <div class="uk-section{% if page.section %} uk-section-{{ page.section }}{% endif %}">
        <div class="uk-container{% if width %} uk-container-{{ width }}{% endif %}">
          {% if sidebar_left %}
            <div class="uk-flex uk-grid-large" data-uk-grid>
              <div class="uk-width-expand@m">
                {{ content }}
              </div>
              <aside class="uk-width-1-3@m uk-flex-first@m">
                {% include sidebar.html %}
              </aside>
            </div>
          {% elsif sidebar_right %}
            <div class="uk-grid-large" data-uk-grid>
              <div class="uk-width-expand@m">
                {{ content }}
              </div>
              <aside class="uk-width-1-3@m">
                {% include sidebar.html %}
              </aside>
            </div>
          {% else %}
            {{ content }}
          {% endif %}
        </div>
      </div>
    {% endif %}

    {% assign footer_block = page.sections | where:"block", 'footer' | first %}
    {% unless footer_block %}
      {% include block-footer.html %}
    {% endunless %}

    {% include partials/nav-mobile.html %}

    {% include hook-pre-closing-body.html %}

    </body>

</html>
